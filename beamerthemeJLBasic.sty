% Written and (C) by Jérôme Lelong <jerome.lelong@gmail.com>
% 2013

% This program is free software; you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation; either version 3 of the License, or
% (at your option) any later version.

% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.

% You should have received a copy of the GNU General Public License
% along with this program.  If not, see <http://www.gnu.org/licenses/>. 



\ProvidesPackage{beamerthemeJLBasic}

\makeatletter
\newif\ifbeamer@tree@showhooks
\beamer@tree@showhookstrue

\DeclareOptionBeamer{hooks}[true]{\csname beamer@tree@showhooks#1\endcsname}

\ProcessOptionsBeamer
\mode
<presentation>

\setbeamertemplate{navigation symbols}{}
\usecolortheme{rose}
\mode
<presentation>
\useinnertheme[shadow=true]{rounded}% les block

\mode
<all>

\definecolor{JLBasic@red}{RGB}{181,55,50}
\definecolor{JLBasic@green}{RGB}{43,158,22}
\setbeamertemplate{items}[triangle]
\setbeamertemplate{enumerate items}[default]
\setbeamertemplate{page number in head/foot}[totalframenumber]%
\setbeamercolor{page number in head/foot}{use=structure,fg=structure.fg}

\defbeamertemplate*{footline}{JLBasic theme}
{
  \begin{beamercolorbox}[colsep=0.5pt]{upper separation line foot}
  \end{beamercolorbox}
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=0.7\paperwidth,ht=2.25ex,dp=1ex,left]{author in head/foot}%
    \usebeamerfont{author in head/foot}
    \hspace*{1ex}\if\beamer@shortauthor\empty\insertauthor\else\insertshortauthor\fi%
    \if\beamer@shortinstitute\empty\else\hspace*{1ex}(\insertshortinstitute)\fi%
    \usebeamerfont{date in head/foot}\hspace*{2ex}%
    \if\beamer@shortdate\empty\insertdate\else\insertshortdate\fi%
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=0.3\paperwidth,ht=2.25ex,dp=1ex,right]{page number in head/foot}%
      \usebeamercolor[fg]{page number in head/foot}
      \usebeamerfont{page number in head/foot}
      \usebeamertemplate*{page number in head/foot}\hspace*{2ex}%
  \end{beamercolorbox}}%
  \vskip0em%
}


\defbeamertemplate*{sidebar right}{JLBasic theme}{}

%% \usesectionheadtemplate
%% {\hfil\insertsectionhead}
%% {\hfill\color{fg!50!bg}\insertsectionhead}


%% \usesubsectionheadtemplate
%% {\hfil\insertsubsectionhead}
%% {\hfill\color{fg!50!bg}\insertsubsectionhead}


\setbeamerfont{title in head/foot}{shape=\scshape}
\defbeamertemplate*{headline}{JLBasic theme}
{%
  \leavevmode%
  \begin{beamercolorbox}[wd=\paperwidth,ht=3ex,dp=1.ex,%
    leftskip=.3cm,rightskip=.3cm plus1fil]{title in head/foot}%
    \usebeamerfont{title in head/foot}%
    \vfill\if\beamer@shorttitle\empty\inserttitle\else\insertshorttitle\fi%
    \vfill%
  \end{beamercolorbox}
    
  \begin{beamercolorbox}[wd=\paperwidth,colsep=0.5pt]{lower separation line head}
  \end{beamercolorbox}
}
\mode <all>
%%\setbeamercolor{separation line}{use=structure,bg=structure.fg!50!bg}
\mode <presentation>
\setbeamercolor{separation line}{use=structure,bg=structure.fg}
\setbeamercolor{frametitle}{use=structure}
\setbeamercolor{block title}{use=structure,fg=structure.fg}
\setbeamercolor{title in head/foot}{use=structure,fg=structure.fg}
\setbeamercolor{itemize subitem}{use=structure,fg=JLBasic@green}
\setbeamercolor{itemize item}{use=structure,fg=JLBasic@red}
\setbeamercolor{enumerate item}{use=structure,fg=JLBasic@red}
\setbeamercolor{subsection in toc}{use=structure,fg=structure.fg}
\mode <handout>
\setbeamercolor{separation line}{use=structure,bg=black}
\setbeamercolor{block title}{use=structure,fg=black,bg=white}
\setbeamercolor{block body}{parent=normal text,use=block title,bg=white}
\setbeamercolor{title in head/foot}{use=structure,fg=black}
\mode
<all>
\makeatother

